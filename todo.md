
- [x] Show by permission scripts in players backend page
- [x] Change how the odd and even row images get enabled and disabled
- [ ] Prevent changing the last player which has permissions to edit permissions to a group which does not have those permissions
- [x] Use ~~a selectable or a toggle~~ CrossFadeAlpha for the highlight shown while the permission group popup is shown
- [x] When losing permissions to edit one of the columns in the player backend, but that was the active sort order, change sort order to the player name
- [ ] Maybe actually just disable (make non interactable) the 3 columns that are tied to permissions in the players backend page rather than hiding them, except for the delete column that would go hidden
- [ ] Should there be an indicator for when a player is online or offline in the backend page outside of the delete button being greyed out?
- [x] Check permissions for all interactions in the players backend manager, when running the IAs. Raise events in case an action got ignored so external latency states can be reset
- [x] reduce the amount of raycast targets
- [x] experiment with sub canvases? but idk how they would even help with scrolling requiring layout changes? Unless the entire content can be a sub canvas? Experiment. - See [ui-performance](ui-performance.md)
- [x] genuinely consider making custom layout elements... why the actual hell is that something I have to consider? Like how. I just don't understand how Unity's components can be so terrible. Or are they? Apparently I cannot trust whatever people say on the internet about UI's anyway because Canvas Groups most certainly have measurable - noticeable even - performance impact when used to disable and hide UI. But if layout groups really are using GetComponent every time, and I can actually look at source code, probably, to double check that myself, then yea actually horrifying
  - Don't. At most make "build time layout groups" for any static layout. They only affect performance when layout elements have to mark layout systems as dirty, which is primarily only problematic when enabling or disabling large hierarchies. Only bother optimizing this if there are noticeable and bothersome lag spikes
- [x] test having 89 players and then importing the 4 players again, idk how 2 out of 4 of the show by permission resolvers ended up not working for just 1 row in that case. very random
  - I tried, could not reproduce. And it won't matter for this case again once all of those scripts got removed in favor of the page script handling all of the enabling and disabling
- [x] most likely remove all of the show by permission scripts from the rows and instead have the page script handle the enabling and disabling. It's just all around more performant that way, both creation of rows as well as changing permissions
- [x] experiment with enabling and disabling elements as you scroll through the list, only having the visible ones enabled basically
- [x] ~~do not use auto size unless necessary~~ sure, but don't fret it too much. It would only reduce lag spikes such as when changing permissions, outside of that it hardly matters which causes layout rebuilds which changes the size of text rects which make text rebuild
- [x] could disable all Caret game objects as they are useless in VRChat and just eat cull performance
  - find them after instantiating a row, since they get created OnEnable and don't exist at build time (or scene load generically)
- [x] test if disabling the root canvas stops all performance drain including moving - it does not, culling cost persists
- [x] test if moving causes layout set dirty calls made by images and text (graphics) - it does not
- [x] clamp the velocity of the scroll rect, even though it only matters for desktop since in VR it's constantly rebuilding batches anyway
- [x] highlight the row that is about to be deleted behind the popup
- [x] auto delete old read GM requests
- [x] respect permissions in GM requests manager
- [x] maybe do raise the latency events alongside the game state events in GM requests manager, making listening to just latency events inform a script about all actions taken, without needing to listen to the game state events too
- [x] move the show page by permission script into the gm requests buttons module
- [x] why are the request gm buttons no longer visible after making those scripts themselves also be permission resolvers, thus having 2 resolvers on the same object? What is going on - a permission system race condition that got introduced due to lockstep on init now being able to be spread out across frames
- [x] importing and opening the players backend page leaves rows disabled sometimes, like it didn't recalculate which ones should be visible
- [x] check every frame if the viewport rect height has changed, which also removes the hack of setting the scroll rect position to 1 initially
- [x] update which rows are visible every time one gets added or removed... but like isn't it already doing that? why was a row invisible after others got deleted? And it didn't even show up when scrolling?! - probably most likely fixed, not sure if the observation here of it not updating even after scrolling was correct
- [x] update names in the gm requests list whenever overridden display name or character names change
- [x] make urgent highlight image not fade in and out, it changing position instantly and then playing the fade looks stupid, just how the toggle checkmark looked stupid
- [x] add a main highlight color image for active gm requests
- [x] remove the canvas group, keeping read gm requests the same full opacity, just with the urgent or main color highlights disabled
- [x] sort read requests the other way around timing wise, newest to the top
- [x] why do the gm request toggles look like they have a different color than the page toggles?
- [x] make regular gm requests red after x minutes
- [ ] try out non elastic scroll rects
- [x] update gm requests names upon import
- [x] make buttons aware of all open requests by the local player
- [x] hud for the gm requests
- [x] do something with gm requests where the requesting player left, either visually or idk
- [x] deleting the second last row makes the last row invisible until that row goes out of view and into view again
- [x] rename the RequestGMButtons prefab to GMRequestButtons
- [ ] very most likely change gm requests page to make calls to an external teleports manager
- [ ] maybe, probably, make the count slightly smaller for GM requests HUD to make it feel less squished into that spot. Though would be good to test in VR first
- [ ] add the crazy ideas for requesting GM without opening the menu, see gm-menu-requirements.md in menu-system
- [ ] How to truly prevent locking yourself out of permissions to edit permissions
  - editing the permission values themselves could lock you out
  - deleting a permission group could lock you out
  - deleting the last player data which had the necessary permissions could lock you out
  - changing the last player data's group could lock you out
- [ ] think about combining the edit permissions permission and the change permission group permission
- [x] voice range settings UI
- [x] voice range HUD
- [ ] voice range in world indicator
- [ ] voice range AudioManager integration
- [ ] which ones of these layout elements actually need layout priority 2? something with the input fields afaik
- [ ] change GMRequestsHUD to use Time.deltaTime instead
- [ ] make default visualization type for hud and in world defined through inspector
